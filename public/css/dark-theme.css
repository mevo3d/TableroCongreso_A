/* Sistema de Diseño Apple - Tema Oscuro */
[data-theme="dark"] {
    /* Colores primarios */
    --color-primary: #0A84FF;
    --color-primary-hover: #0066CC;
    --color-secondary: #5E5CE6;
    --color-success: #30D158;
    --color-warning: #FF9F0A;
    --color-danger: #FF453A;
    --color-info: #64D2FF;
    
    /* Escala de grises */
    --gray-50: #1C1C1E;
    --gray-100: #2C2C2E;
    --gray-200: #3A3A3C;
    --gray-300: #48484A;
    --gray-400: #636366;
    --gray-500: #8E8E93;
    --gray-600: #AEAEB2;
    --gray-700: #C7C7CC;
    --gray-800: #D1D1D6;
    --gray-900: #E5E5EA;
    
    /* Fondos */
    --bg-primary: #000000;
    --bg-secondary: #1C1C1E;
    --bg-tertiary: #2C2C2E;
    --bg-card: #1C1C1E;
    --bg-elevated: #2C2C2E;
    --navbar-bg: rgba(28, 28, 30, 0.72);
    
    /* Texto */
    --text-primary: #FFFFFF;
    --text-secondary: rgba(255, 255, 255, 0.86);
    --text-tertiary: rgba(255, 255, 255, 0.6);
    --text-quaternary: rgba(255, 255, 255, 0.3);
    --text-inverse: #000000;
    
    /* Bordes */
    --border-color: rgba(255, 255, 255, 0.1);
    --border-strong: rgba(255, 255, 255, 0.15);
    
    /* Sombras (más sutiles en modo oscuro) */
    --shadow-xs: 0 1px 2px rgba(0, 0, 0, 0.3);
    --shadow-sm: 0 2px 8px rgba(0, 0, 0, 0.3);
    --shadow-md: 0 4px 12px rgba(0, 0, 0, 0.4);
    --shadow-lg: 0 8px 20px rgba(0, 0, 0, 0.5);
    --shadow-xl: 0 20px 40px rgba(0, 0, 0, 0.6);
}

/* Ajustes específicos para modo oscuro */
[data-theme="dark"] body {
    background-color: var(--bg-primary);
    color: var(--text-primary) !important;
}

/* Forzar colores de texto en todos los elementos */
[data-theme="dark"],
[data-theme="dark"] * {
    color: var(--text-primary);
}

/* Texto secundario */
[data-theme="dark"] .text-muted,
[data-theme="dark"] .text-secondary,
[data-theme="dark"] small {
    color: var(--text-secondary) !important;
}

/* Headers y títulos */
[data-theme="dark"] h1,
[data-theme="dark"] h2,
[data-theme="dark"] h3,
[data-theme="dark"] h4,
[data-theme="dark"] h5,
[data-theme="dark"] h6 {
    color: var(--text-primary) !important;
}

/* Labels y etiquetas */
[data-theme="dark"] label,
[data-theme="dark"] .form-label {
    color: var(--text-primary) !important;
}

/* Párrafos y divs con contenido */
[data-theme="dark"] p,
[data-theme="dark"] div,
[data-theme="dark"] span,
[data-theme="dark"] li,
[data-theme="dark"] td,
[data-theme="dark"] th {
    color: var(--text-primary);
}

/* Cards */
[data-theme="dark"] .card,
[data-theme="dark"] .card-body,
[data-theme="dark"] .card-header,
[data-theme="dark"] .card-footer,
[data-theme="dark"] .card-title {
    color: var(--text-primary) !important;
}

/* Modales */
[data-theme="dark"] .modal-content,
[data-theme="dark"] .modal-header,
[data-theme="dark"] .modal-body,
[data-theme="dark"] .modal-footer,
[data-theme="dark"] .modal-title {
    color: var(--text-primary) !important;
}

/* Tablas */
[data-theme="dark"] .table,
[data-theme="dark"] table {
    color: var(--text-primary) !important;
}

/* Badges */
[data-theme="dark"] .badge {
    /* Los badges mantienen sus colores específicos */
}

/* Links */
[data-theme="dark"] a:not(.btn):not(.badge) {
    color: var(--color-primary);
}

[data-theme="dark"] a:not(.btn):not(.badge):hover {
    color: var(--color-primary-hover);
}

[data-theme="dark"] .navbar {
    backdrop-filter: saturate(180%) blur(20px);
    -webkit-backdrop-filter: saturate(180%) blur(20px);
}

[data-theme="dark"] .apple-card {
    background: var(--bg-card);
    border-color: var(--border-color);
}

[data-theme="dark"] .btn-apple-secondary {
    background: var(--gray-200);
    color: var(--text-primary);
}

[data-theme="dark"] .btn-apple-secondary:hover {
    background: var(--gray-300);
}

[data-theme="dark"] .dropdown-menu-apple {
    background: var(--bg-elevated);
    border-color: var(--border-color);
}

[data-theme="dark"] .dropdown-item-apple:hover {
    background: var(--gray-200);
}

[data-theme="dark"] .modal-content-apple {
    background: var(--bg-elevated);
    border-color: var(--border-color);
}

[data-theme="dark"] .form-control-apple {
    background: var(--gray-100);
    border-color: var(--border-color);
    color: var(--text-primary);
}

[data-theme="dark"] .form-control-apple:focus {
    background: var(--gray-200);
    border-color: var(--color-primary);
    box-shadow: 0 0 0 3px rgba(10, 132, 255, 0.2);
}

[data-theme="dark"] .form-control-apple::placeholder {
    color: var(--text-quaternary);
}

/* Formularios Bootstrap estándar */
[data-theme="dark"] .form-control,
[data-theme="dark"] .form-select,
[data-theme="dark"] input[type="text"],
[data-theme="dark"] input[type="email"],
[data-theme="dark"] input[type="password"],
[data-theme="dark"] input[type="number"],
[data-theme="dark"] input[type="date"],
[data-theme="dark"] input[type="datetime-local"],
[data-theme="dark"] textarea,
[data-theme="dark"] select {
    background-color: var(--gray-100) !important;
    color: var(--text-primary) !important;
    border-color: var(--border-color) !important;
}

[data-theme="dark"] .form-control:focus,
[data-theme="dark"] .form-select:focus,
[data-theme="dark"] input:focus,
[data-theme="dark"] textarea:focus,
[data-theme="dark"] select:focus {
    background-color: var(--gray-200) !important;
    color: var(--text-primary) !important;
    border-color: var(--color-primary) !important;
    box-shadow: 0 0 0 0.25rem rgba(10, 132, 255, 0.25) !important;
}

[data-theme="dark"] .form-control::placeholder,
[data-theme="dark"] input::placeholder,
[data-theme="dark"] textarea::placeholder {
    color: var(--text-tertiary) !important;
}

/* Dropdowns */
[data-theme="dark"] .dropdown-menu {
    background-color: var(--bg-elevated) !important;
    border-color: var(--border-color) !important;
    color: var(--text-primary) !important;
}

[data-theme="dark"] .dropdown-item {
    color: var(--text-primary) !important;
}

[data-theme="dark"] .dropdown-item:hover,
[data-theme="dark"] .dropdown-item:focus {
    background-color: var(--gray-200) !important;
    color: var(--text-primary) !important;
}

/* Alertas */
[data-theme="dark"] .alert {
    color: var(--text-primary) !important;
}

/* Listas */
[data-theme="dark"] .list-group-item {
    background-color: var(--bg-card) !important;
    color: var(--text-primary) !important;
    border-color: var(--border-color) !important;
}

/* Navegación y pestañas */
[data-theme="dark"] .nav-link {
    color: var(--text-secondary) !important;
}

[data-theme="dark"] .nav-link.active,
[data-theme="dark"] .nav-link:hover {
    color: var(--text-primary) !important;
}

/* Botones que no son de tipo primary/success/etc */
[data-theme="dark"] .btn-light {
    background-color: var(--gray-200) !important;
    color: var(--text-primary) !important;
    border-color: var(--border-color) !important;
}

[data-theme="dark"] .btn-outline-light {
    color: var(--text-primary) !important;
    border-color: var(--border-color) !important;
}

[data-theme="dark"] .btn-outline-light:hover {
    background-color: var(--gray-200) !important;
    color: var(--text-primary) !important;
}

[data-theme="dark"] .switch-slider {
    background-color: var(--gray-300);
}

[data-theme="dark"] input:checked + .switch-slider {
    background-color: var(--color-success);
}

[data-theme="dark"] .badge-apple {
    background: var(--gray-200);
    color: var(--text-secondary);
}

[data-theme="dark"] ::-webkit-scrollbar-thumb {
    background: var(--gray-300);
}

/* Iconos Font Awesome */
[data-theme="dark"] i,
[data-theme="dark"] .fas,
[data-theme="dark"] .far,
[data-theme="dark"] .fab {
    color: inherit !important;
}

/* Elementos específicos que pueden tener color fijo */
[data-theme="dark"] .text-dark {
    color: var(--text-primary) !important;
}

[data-theme="dark"] .text-black {
    color: var(--text-primary) !important;
}

/* Estadísticas y contadores */
[data-theme="dark"] .stat-card {
    color: var(--text-primary) !important;
}

[data-theme="dark"] .stat-card h3,
[data-theme="dark"] .stat-card h4,
[data-theme="dark"] .stat-card h5,
[data-theme="dark"] .stat-card p {
    color: var(--text-primary) !important;
}

/* Elementos de tiempo y fecha */
[data-theme="dark"] #currentTime,
[data-theme="dark"] #sessionTimer,
[data-theme="dark"] .timer,
[data-theme="dark"] .clock {
    color: var(--text-primary) !important;
}

/* Tooltips */
[data-theme="dark"] .tooltip-inner {
    background-color: var(--gray-200) !important;
    color: var(--text-primary) !important;
}

/* Popovers */
[data-theme="dark"] .popover {
    background-color: var(--bg-elevated) !important;
    border-color: var(--border-color) !important;
}

[data-theme="dark"] .popover-header {
    background-color: var(--gray-200) !important;
    color: var(--text-primary) !important;
    border-bottom-color: var(--border-color) !important;
}

[data-theme="dark"] .popover-body {
    color: var(--text-primary) !important;
}

/* Progress bars */
[data-theme="dark"] .progress {
    background-color: var(--gray-200) !important;
}

/* Breadcrumbs */
[data-theme="dark"] .breadcrumb {
    background-color: var(--bg-secondary) !important;
}

[data-theme="dark"] .breadcrumb-item {
    color: var(--text-secondary) !important;
}

[data-theme="dark"] .breadcrumb-item.active {
    color: var(--text-primary) !important;
}

/* Pagination */
[data-theme="dark"] .page-link {
    background-color: var(--bg-card) !important;
    color: var(--text-primary) !important;
    border-color: var(--border-color) !important;
}

[data-theme="dark"] .page-link:hover {
    background-color: var(--gray-200) !important;
    color: var(--text-primary) !important;
}

[data-theme="dark"] .page-item.active .page-link {
    background-color: var(--color-primary) !important;
    border-color: var(--color-primary) !important;
}

/* Accordions */
[data-theme="dark"] .accordion-item {
    background-color: var(--bg-card) !important;
    border-color: var(--border-color) !important;
    color: var(--text-primary) !important;
}

[data-theme="dark"] .accordion-header {
    background-color: var(--bg-card) !important;
}

[data-theme="dark"] .accordion-button {
    background-color: var(--bg-card) !important;
    color: var(--text-primary) !important;
}

[data-theme="dark"] .accordion-button:not(.collapsed) {
    background-color: var(--gray-100) !important;
    color: var(--text-primary) !important;
}

[data-theme="dark"] .accordion-body {
    background-color: var(--bg-card) !important;
    color: var(--text-primary) !important;
}

/* Spinners */
[data-theme="dark"] .spinner-border,
[data-theme="dark"] .spinner-grow {
    color: var(--text-primary) !important;
}

[data-theme="dark"] ::-webkit-scrollbar-thumb:hover {
    background: var(--gray-400);
}

/* Ajustes para imágenes y medios en modo oscuro */
[data-theme="dark"] img {
    opacity: 0.9;
}

[data-theme="dark"] img:hover {
    opacity: 1;
}

/* Efecto de brillo reducido para modo oscuro */
[data-theme="dark"] .glow {
    filter: brightness(0.8);
}